{% extends "modelo.html" %}

{% block title %}Pedido{% endblock %}

{% block content %}
    <div class="container mt-5">
        <a href="{{ url_for('pedido.lista') }}" class="btn btn-outline-secondary"><i class="fa fa-chevron-left"></i> VOLTAR</a>
        <div class="row">
            <div class="col-12">
                <form action="" autocomplete="off">
                    <div class="card bg-dark text-white mt-3">
                        <div class="card-header">
                            {{ 'ADICIONAR' if pedido.id_pedido == 0 else 'EDITAR' }} PEDIDO
                        </div>
                        <div class="card-body">
                            <div class="row">
                                {% if pedido.id_pedido %}
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="num">Número do Pedido</label>
                                        <input id="num" type="text" class="form-control" value="{{ pedido.id_pedido }}" disabled="disabled">
                                    </div>
                                </div>
                                {% endif  %}
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="cliente">Cliente</label>
                                        <select name="id_cliente" id="cliente" autocomplete="off" class="form-control">
                                            <option value="0">Selecione o cliente</option>
                                            {% for cliente in clientes %}
                                                <option value="{{ cliente.id_cliente }}">{{ cliente.nome }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="tel">Telefone</label>
                                        <input name="telefone" id="tel" type="tel" class="form-control" disabled="disabled">
                                    </div>
                                </div>
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="code">Código do Cliente</label>
                                        <input name="code" id="code" type="text" class="form-control" disabled="disabled">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="endereco">Endereço</label>
                                        <input name="endereco" id="endereco" type="text" class="form-control" disabled="disabled">
                                    </div>
                                </div>
                                <div class="col col-1">
                                    <div class="form-group">
                                        <label for="numero">Número</label>
                                        <input name="numero" id="numero" type="text" class="form-control" disabled="disabled">
                                    </div>
                                </div>
                                <div class="col col-2">
                                    <div class="form-group">
                                        <label for="cep">CEP</label>
                                        <input name="cep" id="cep" type="text" class="form-control" disabled="disabled">
                                    </div>
                                </div>
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="bairro">Bairro</label>
                                        <input name="bairro" id="bairro" type="text" class="form-control" disabled="disabled">
                                    </div>
                                </div>
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="cidade">Cidade</label>
                                        <input name="cidade" id="cidade" type="text" class="form-control" disabled="disabled">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col col-3">
                                    <div class="form-group">
                                        <label for="data_hora">Data/Hora Local</label>
                                        <input name="data_hora" id="data_hora" type="datetime-local" class="form-control">
                                    </div>
                                </div>
                                <div class="col col-9">
                                    <div class="form-group">
                                        <label for="observacoes">Observações</label>
                                        <textarea class="form-control" name="observacoes" id="observacoes" rows="1"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="product-row">
                                <hr>
                                <div class="row">
                                    <div class="col col-6">
                                        <div class="form-group">
                                            <label>Produto</label>
                                            <select name="id_produto[]" id="id_produto[]" class="form-control">
                                                <option value="0">Selecione o produto</option>
                                                {% for produto in produtos %}
                                                <option value="{{ produto.id_produto }}">{{ produto.descricao }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col col-3">
                                        <div class="form-group">
                                            <label>Preço</label>
                                            <input pattern="\d{1,8}(?:[,]\d{1,2})?" name="preco[]" type="text" class="form-control" disabled="disabled">
                                        </div>
                                    </div>
                                    <div class="col col-3">
                                        <div class="form-group">
                                            <label>&nbsp;</label>
                                            <button type="button" class="btn btn-danger btn-sm d-block mt-1 btn-remove"><i class="fa fa-trash"></i> REMOVER PRODUTO</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col col-2">
                                        <div class="form-group">
                                            <label for="quantidade">Quantidade</label>
                                            <input name="quantidade[]" type="number" min="1" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col col-3">
                                        <div class="form-group">
                                            <label for="total">Total R$</label>
                                            <input pattern="\d{1,8}(?:[,]\d{1,2})?" name="total[]" type="text" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col col-4">
                                        <div class="form-group">
                                            <label>Observações</label>
                                            <textarea name="observacoes[]" rows="1" class="form-control"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col col-12">
                                    <hr>
                                    <button type="button" id="addproduto" class="btn btn-primary"><i class="fa fa-plus"></i> ADICIONAR PRODUTO</button>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="form-group mt-3">
                                <button class="btn btn-success"><i class="fa fa-save"></i> SALVAR</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}